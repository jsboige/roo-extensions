{
  "testName": "Test 3 - Deployment Wrappers Dry-Run",
  "timestamp": "2025-10-24T12:52:28.177Z",
  "results": [
    {
      "testId": "3.1",
      "testName": "Timeout - Script PowerShell Long (>30s)",
      "success": true,
      "details": {
        "success": false,
        "duration": 5018,
        "exitCode": -1,
        "stdout": "[Test-Timeout] Starting long script...\r\n",
        "stderr": "Script timeout exceeded",
        "error": "Timeout after 5000ms",
        "timedOut": true
      },
      "observations": [
        "Script timeout : true",
        "Timeout configuré : 5000ms",
        "Durée exécution : 5018ms",
        "Exit code : -1",
        "Erreur : Timeout after 5000ms",
        "✅ Timeout déclenché correctement"
      ]
    },
    {
      "testId": "3.2",
      "testName": "Gestion Erreurs - Script Échoué (exit code != 0)",
      "success": true,
      "details": {
        "success": false,
        "duration": 354,
        "exitCode": 1,
        "stdout": "[Test-Failure] Script starting...\r\n[Test-Failure] Script failed\r\n",
        "stderr": "\u001b[31;1mWrite-Error: \u001b[31;1mSimulated error\u001b[0m\r\n",
        "error": "Command failed: pwsh -NoProfile -ExecutionPolicy Bypass -File \"tests\\results\\roosync\\deployment-test-scripts\\test-failure.ps1\"\n\u001b[31;1mWrite-Error: \u001b[31;1mSimulated error\u001b[0m\r\n",
        "timedOut": false
      },
      "observations": [
        "Script réussi : false",
        "Exit code : 1",
        "Durée exécution : 354ms",
        "Stderr : \u001b[31;1mWrite-Error: \u001b[31;1mSimulated error\u001b[0m\r\n...",
        "Erreur : Command failed: pwsh -NoProfile -ExecutionPolicy Bypass -File \"tests\\results\\roosync\\deployment-test-scripts\\test-failure.ps1\"\n\u001b[31;1mWrite-Error: \u001b[31;1mSimulated error\u001b[0m\r\n",
        "✅ Erreur détectée et gérée correctement"
      ]
    },
    {
      "testId": "3.3",
      "testName": "Dry-run Mode - deployModes({ dryRun: true })",
      "success": true,
      "details": {
        "resultLive": {
          "success": true,
          "duration": 274,
          "exitCode": 0,
          "stdout": "[Test-DryRun] Script starting...\r\n[Test-DryRun] LIVE MODE: Performing deployment (actual changes)\r\n[Test-DryRun] Script completed\r\n",
          "stderr": "",
          "timedOut": false
        },
        "resultDryRun": {
          "success": true,
          "duration": 225,
          "exitCode": 0,
          "stdout": "[Test-DryRun] Script starting...\r\n[Test-DryRun] DRY-RUN MODE: Would perform deployment (no actual changes)\r\n[Test-DryRun] Script completed\r\n",
          "stderr": "",
          "timedOut": false
        }
      },
      "observations": [
        "Test LIVE mode réussi : true",
        "Test LIVE contient \"DRY-RUN MODE\" : false (attendu: false)",
        "Test DRY-RUN mode réussi : true",
        "Test DRY-RUN contient \"DRY-RUN MODE\" : true (attendu: true)",
        "✅ Dry-run mode détecté et appliqué correctement"
      ]
    }
  ],
  "summary": {
    "totalTests": 3,
    "successCount": 3,
    "failureCount": 0,
    "convergence": "100.00%"
  }
}